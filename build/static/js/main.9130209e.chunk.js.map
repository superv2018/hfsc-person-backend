{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/service/backend.js","App.js","index.js"],"names":["Filter","value","onChange","Person","persons","searchTerm","deletePerson","map","person","key","id","name","number","onClick","window","confirm","filter","toLowerCase","includes","PersonForm","props","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","delete","console","log","request","put","ErrorNotification","message","errorStyle","border","backgroundColor","fontStyle","fontSize","color","error","padding","borderRadius","margin","style","notification","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","errorMessage","setErrorMessage","useEffect","PersonBackend","initialPerson","event","target","preventDefault","some","initialPersons","find","p","updatedPerson","returnPerson","catch","setTimeout","updatePerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9130209e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div>\r\n        filter shown with <input value={value}\r\n        onChange={onChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst Person = ({ persons, searchTerm, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {searchTerm === \"\" ? (\r\n        <div>\r\n          {persons.map((person) => {\r\n            return (\r\n              <div key={person.id}>\r\n                <p>\r\n                  {person.name} : {person.number}{\" \"}\r\n                  <button\r\n                    onClick={() => {\r\n                      return window.confirm(\r\n                        `Do you wanna delete ${person.name}`\r\n                      )\r\n                        ? deletePerson(person.id)\r\n                        : 'null'\r\n                    }}\r\n                  >\r\n                    delete\r\n                  </button>\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {persons\r\n            .filter((person) =>\r\n              person.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n            )\r\n            .map((person) => {\r\n              return (\r\n                <div key={person.id}>\r\n                  <p>\r\n                    {person.name} : {person.number}\r\n                  </p>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.addName}>\r\n        <div>\r\n          name: <input value={props.newName}\r\n          onChange={props.handleNameChange} />\r\n        </div>\r\n    \r\n        <div>\r\n          number: <input value={props.newNumber}\r\n          onChange={props.handleNumberChange}/>\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteButtonHandler = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n    console.log(id)\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    console.log(request)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, deleteButtonHandler, update };\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Person from \"./components/Person\";\nimport PersonForm from \"./components/PersonForm\";\nimport PersonBackend from \"./components/service/backend\";\n\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  const errorStyle = {\n    border: \"2px solid green\",\n    backgroundColor: \"lightgrey\",\n    fontStyle: \"solid\",\n    fontSize: 20,\n    color: message.error ? \"red\" : \"green\",\n    padding: 10,\n    borderRadius: 5,\n    margin: 10,\n  };\n\n  return <div style={errorStyle}>{message.notification}</div>;\n};\n\n\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"arto hellas\");\n  const [newNumber, setNewNumber] = useState(\"040-123456\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const notification = errorMessage === null ? null : errorMessage.notification;\n  const error = errorMessage === null ? null : errorMessage.error;\n \n\n  useEffect(() => {\n    console.log(\"effect\");\n    PersonBackend.getAll().then((initialPerson) => {\n      console.log(\"fulfilled\");\n      setPersons(initialPerson);\n    });\n  }, []);\n\n  \n  const addPersonName = () => {\n    /* add input to object */\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    PersonBackend.create(nameObject).then((returnPerson) => {\n      setPersons(persons.concat(returnPerson));\n      setNewName(\"\");\n      setNewNumber(\"\");\n    });\n  };\n\n  const updatePerson = (newName) => {\n    /* update  */\n    const initialPersons = persons.find((p) => p.name === newName);\n    const updatedPerson = { ...initialPersons, number: newNumber };\n\n    PersonBackend.update(updatedPerson.id, updatedPerson)\n      .then((returnPerson) => {\n        setPersons(\n          persons.map((person) =>\n            person.id !== initialPersons.id ? person : returnPerson\n          )\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n      .catch((error) => {\n        setErrorMessage({\n          notification: `Information of ${newName} has already been removed from server`, error: true\n        });\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  const addName = (event, id) => {\n    event.preventDefault();\n    /* check if input already existed */\n    if (persons.some((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        updatePerson(newName);\n        setErrorMessage({notification : `${newName} updated number`, error: false});\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      }\n    } else {\n      addPersonName();\n      setErrorMessage({notification: `Added ${newName}`, error: false});\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchTerm = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n\n  const deletePerson = (id) => {\n    console.log(id);\n    PersonBackend.deleteButtonHandler(id)\n      .then((returnPerson) => {\n        setPersons(persons.filter(person => person.id !== id));\n      })\n      .catch((error) => {\n        setErrorMessage(`An ${error} has occured`);\n        setTimeout(() => {\n          setErrorMessage(null);\n        }, 5000);\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage} />\n      <Filter value={searchTerm} onChange={handleSearchTerm} />\n      <h2>add a new name and number</h2>\n      <PersonForm\n        addName={addName}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Person\n        persons={persons}\n        searchTerm={searchTerm}\n        deletePerson={deletePerson}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}